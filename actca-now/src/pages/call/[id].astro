---
import BaseLayout from '../../layouts/BaseLayout.astro';
import CallCard from '../../components/CallCard.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const calls = await getCollection('calls');
  return calls.map((call) => ({
    params: { id: call.id },
    props: { call },
  }));
}

const { call } = Astro.props;
---

<BaseLayout title="Make Your Voice Heard!" description="Make Your Voice Heard!">
  <main class="min-h-screen p-6 bg-white">
    <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
      <a
        href="/"
        class="inline-flex items-center gap-2 px-4 py-2 text-black hover:text-gray-700 font-semibold"
        style="color: #000 !important;"
      >
        â† Back to Topics
      </a>
      <nav class="flex gap-3">
        <a 
          href="/suggestions"
          class="text-black hover:text-slate-700 font-bold underline bg-yellow-100 px-3 py-2 rounded text-base"
          style="color: #000 !important;"
        >
          ğŸ’¡ Suggestions
        </a>
        <a 
          href="/resources"
          class="text-black hover:text-slate-700 font-bold underline bg-yellow-100 px-3 py-2 rounded text-base"
          style="color: #000 !important;"
        >
          ğŸ“„ Resources
        </a>
      </nav>
    </div>

    <CallCard call={call} targetID={call.id} />
  </main>
</BaseLayout>


